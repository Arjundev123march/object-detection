objectDetector= "";

img = "";
objects = [];
status = "";
function preload(){
   img = loadImage("data:image/jpeg;base64,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");
}
function setup(){
    canvas = createCanvas(640,420);
    canvas.center();
   objectDetector = ml5.objectDetector('cocossd', modelLoaded);
  document.getElementById("status").innerHTML = "Status : Detecting Objects";
}

function modelLoaded() {
  console.log("Model Loaded!")
  status = true;
  objectDetector.detect(img, gotResult);
}

function gotResult(error, results) {
  if (error) {
    console.log(error);
  }
  console.log(results);
  objects = results;
}


function draw() {
  image(img, 0, 0, 640, 420);

      if(status != "")
      {
        for (var i = 0; i < objects.length; i++) {
          document.getElementById("status").innerHTML = "Status : Object Detected";
    
          fill(255, 0, 0);
          percent = floor(objects[i].confidence * 100);
          text(objects[i].label + " " + percent + "%", objects[i].x + 15, objects[i].y + 15);
          noFill();
          stroke(255, 0, 0);
          rect(objects[i].x, objects[i].y, objects[i].width, objects[i].height);
        }
      }
}
